<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.8.0"><title>DuckDB and OPFS for Browser Storage - Mark Wylde</title><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet"><style>.blog-content-wrapper[data-astro-cid-7jjqptxk]{background-color:var(--secondary-bg);border-radius:12px;padding:3rem;box-shadow:0 5px 15px var(--shadow-color);margin:2rem auto;max-width:1100px}.blog-post[data-astro-cid-7jjqptxk]{max-width:1100px;margin:0 auto}.blog-header[data-astro-cid-7jjqptxk]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.blog-header[data-astro-cid-7jjqptxk] h1[data-astro-cid-7jjqptxk]{margin-bottom:1rem;color:var(--heading-color);font-size:2.5em}.blog-meta[data-astro-cid-7jjqptxk]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px}.blog-content[data-astro-cid-7jjqptxk]{line-height:1.7;margin-bottom:3rem}.blog-content[data-astro-cid-7jjqptxk] h1,.blog-content[data-astro-cid-7jjqptxk] h2,.blog-content[data-astro-cid-7jjqptxk] h3,.blog-content[data-astro-cid-7jjqptxk] h4,.blog-content[data-astro-cid-7jjqptxk] h5,.blog-content[data-astro-cid-7jjqptxk] h6{color:var(--heading-color);margin-top:2rem;margin-bottom:1rem}.blog-content[data-astro-cid-7jjqptxk] h1{font-size:2rem}.blog-content[data-astro-cid-7jjqptxk] h2{font-size:1.5rem}.blog-content[data-astro-cid-7jjqptxk] h3{font-size:1.25rem}.blog-content[data-astro-cid-7jjqptxk] p{margin-bottom:1rem}.blog-content[data-astro-cid-7jjqptxk] code{background-color:var(--secondary-bg);padding:2px 4px;border-radius:3px;font-family:Courier New,monospace;font-size:.9em;border:1px solid var(--border-color)}.blog-content[data-astro-cid-7jjqptxk] pre{background-color:var(--secondary-bg);padding:1rem;border-radius:8px;overflow-x:auto;margin:1rem 0;border:1px solid var(--border-color)}.blog-content[data-astro-cid-7jjqptxk] pre code{background:none;padding:0;border:none}.blog-content[data-astro-cid-7jjqptxk] blockquote{border-left:4px solid var(--accent-color);padding-left:1rem;margin:1rem 0;font-style:italic;color:var(--accent-color)}.blog-content[data-astro-cid-7jjqptxk] ul,.blog-content[data-astro-cid-7jjqptxk] ol{padding-left:1.5rem;margin-bottom:1rem}.blog-content[data-astro-cid-7jjqptxk] li{margin-bottom:.5rem}.blog-content[data-astro-cid-7jjqptxk] a{color:var(--accent-color);text-decoration:none}.blog-content[data-astro-cid-7jjqptxk] a:hover{text-decoration:underline}.blog-footer[data-astro-cid-7jjqptxk]{padding-top:2rem;border-top:1px solid var(--border-color)}.back-link[data-astro-cid-7jjqptxk]{color:var(--accent-color);text-decoration:none;font-weight:500;transition:color .3s ease}.back-link[data-astro-cid-7jjqptxk]:hover{color:var(--heading-color)}@media (max-width: 768px){.blog-content-wrapper[data-astro-cid-7jjqptxk]{margin:0;padding:1rem;border-radius:0;box-shadow:none}.blog-header[data-astro-cid-7jjqptxk]{margin-bottom:1rem}.blog-header[data-astro-cid-7jjqptxk] h1[data-astro-cid-7jjqptxk]{font-size:1.4em;line-height:1.2;margin-bottom:.5rem}.blog-meta[data-astro-cid-7jjqptxk]{flex-direction:column;align-items:flex-start}.blog-content[data-astro-cid-7jjqptxk]{margin-bottom:1.5rem}}
:root{--primary-bg: #f8f9fa;--secondary-bg: #ffffff;--text-color: #343a40;--heading-color: #212529;--accent-color: #23303e;--border-color: #dee2e6;--shadow-color: rgba(0, 0, 0, .05)}*{box-sizing:border-box;margin:0;padding:0}body{font-family:Montserrat,sans-serif;line-height:1.7;color:var(--text-color);background-color:var(--primary-bg);font-weight:300}.container{max-width:1100px;margin:auto;padding:0 20px;overflow:hidden}h1,h2,h3{color:var(--heading-color);font-weight:600;margin-bottom:.75em}h1{font-size:3em}h2{font-size:2.2em}h3{font-size:1.5em}p{margin-bottom:1em}a{color:var(--accent-color);text-decoration:none;transition:color .3s ease}a:hover{color:var(--heading-color)}.site-header{background-color:var(--secondary-bg);padding:15px 0;border-bottom:1px solid var(--border-color);box-shadow:0 2px 4px var(--shadow-color)}.site-header-content{display:flex;align-items:center;justify-content:space-between}.header-left{display:flex;align-items:center}.header-avatar-link{display:block;margin-right:15px}.header-avatar{height:75px;width:75px;border-radius:50%;object-fit:cover}.header-site-title{font-size:1.5em;font-weight:600;color:var(--heading-color)}.main-nav{display:flex;gap:25px;align-items:center}.nav-link{color:var(--text-color);text-decoration:none;font-weight:400;padding:8px 12px;border-radius:4px;transition:background-color .3s ease,color .3s ease}.nav-link:hover{background-color:var(--primary-bg);color:var(--heading-color)}.nav-link-active{background-color:var(--accent-color);color:var(--secondary-bg);font-weight:500}.nav-link-active:hover{background-color:var(--heading-color);color:var(--secondary-bg)}.section{padding:30px 0}.section:nth-child(2n){background-color:var(--secondary-bg)}.footer{text-align:center;padding:30px 0;background-color:var(--heading-color);color:var(--primary-bg);font-size:.9em}.footer p{margin-bottom:0}.project-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:30px}.project-card{background-color:var(--secondary-bg);padding:25px;border-radius:8px;box-shadow:0 5px 15px var(--shadow-color);transition:transform .3s ease,box-shadow .3s ease;border:1px solid var(--border-color)}.project-card:hover{box-shadow:0 8px 20px #00000014}.contact-methods{display:flex;justify-content:center;gap:20px;margin-top:20px;flex-wrap:wrap}.contact-methods a{font-size:1.1em;padding:10px 20px;border:1px solid var(--border-color);border-radius:5px;transition:background-color .3s ease,color .3s ease}.contact-methods a:hover{background-color:var(--accent-color);color:var(--secondary-bg);text-decoration:none}.blog-meta{align-items:center}.blog-meta time{color:var(--accent-color);font-size:.9em}.blog-tags{display:flex;gap:8px;flex-wrap:wrap}.tag{background-color:#fff;color:var(--text-color);padding:4px 8px;border-radius:4px;font-size:.8em;border:1px solid var(--border-color)}@media (max-width: 768px){h1{font-size:1.8em}h2{font-size:1.4em}.site-header{padding:10px 0}.site-header-content{flex-direction:column;gap:10px}.header-avatar{height:50px;width:50px}.header-site-title{font-size:1.2em}.main-nav{gap:15px}.nav-link{font-size:.9em;padding:6px 10px}.container{padding:0 10px}.section{padding:20px 0}}
</style></head> <body> <div class="site-header"> <div class="container site-header-content"> <div class="header-left"> <a href="/" class="header-avatar-link"> <video autoplay muted class="header-avatar" playsinline poster="/assets/avatar-portrait.C9S5t3ZG.png"> <source src="/assets/avatar-portrait-140.BjSyJAHW.mp4" type="video/mp4"> <img src="/assets/avatar-portrait.C9S5t3ZG.png" alt="Mark Wylde - Avatar"> </video> </a> <span class="header-site-title">Mark Wylde</span> </div> <nav class="main-nav"> <a href="/" class="nav-link ">Home</a> <a href="/about" class="nav-link ">About</a> <a href="/blog" class="nav-link nav-link-active">Blog</a> </nav> </div> </div> <main>  <section class="section" data-astro-cid-7jjqptxk> <div class="container" data-astro-cid-7jjqptxk> <div class="blog-content-wrapper" data-astro-cid-7jjqptxk> <article class="blog-post" data-astro-cid-7jjqptxk> <header class="blog-header" data-astro-cid-7jjqptxk> <h1 data-astro-cid-7jjqptxk>DuckDB and OPFS for Browser Storage</h1> <div class="blog-meta" data-astro-cid-7jjqptxk> <time datetime="2025-08-02" data-astro-cid-7jjqptxk> August 2, 2025 </time> <div class="blog-tags" data-astro-cid-7jjqptxk> <span class="tag" data-astro-cid-7jjqptxk>DuckDB</span><span class="tag" data-astro-cid-7jjqptxk>OPFS</span><span class="tag" data-astro-cid-7jjqptxk>WebAssembly</span><span class="tag" data-astro-cid-7jjqptxk>Functional Programming</span><span class="tag" data-astro-cid-7jjqptxk>Web Storage</span><span class="tag" data-astro-cid-7jjqptxk>TypeScript</span> </div> </div> </header> <div class="blog-content" data-astro-cid-7jjqptxk> <h2 id="persisting-large-databases-in-the-client">Persisting Large Databases in the Client</h2>
<p>I’ve been playing around with DuckDB WebAssembly lately, and I wanted to see if I could build something that persists data in the browser without any server. Not just localStorage stuff, but a real database with SQL queries and transactions.</p>
<p>So I built a <a href="https://markwylde.com/duckdb-opfs-todo-list/">todo list demo</a> using DuckDB and OPFS (Origin Private File System). It’s a fully functional app that stores everything locally, survives browser restarts, and uses pure functional programming throughout.</p>
<h2 id="why-this-combo">Why this combo?</h2>
<p>DuckDB gives you proper SQL in the browser. Full queries, joins, transactions - the works. It’s WebAssembly, so it’s fast and runs everywhere.</p>
<p>OPFS is the new browser storage API that actually persists data properly. Unlike localStorage, it can handle large files and gives you direct file system access. Your data survives browser restarts and clearing cache.</p>
<p>Together, they let you build desktop-class applications that run in the browser.</p>
<h2 id="how-i-built-it">How I built it</h2>
<p>I went with pure functional programming for this. No classes, no mutable state. Everything’s a function that takes some input and returns new data:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> TodoState</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> todos</span><span style="color:#F97583">:</span><span style="color:#F97583"> readonly</span><span style="color:#B392F0"> Todo</span><span style="color:#E1E4E8">[];</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> filter</span><span style="color:#F97583">:</span><span style="color:#B392F0"> TodoFilter</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> nextId</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> Todo</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> text</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> completed</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> boolean</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">  readonly</span><span style="color:#FFAB70"> createdAt</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Date</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Each operation creates new state instead of changing existing objects. Makes debugging much easier.</p>
<p>The database schema is simple:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="sql"><code><span class="line"><span style="color:#F97583">CREATE</span><span style="color:#F97583"> TABLE</span><span style="color:#B392F0"> IF</span><span style="color:#F97583"> NOT</span><span style="color:#F97583"> EXISTS</span><span style="color:#E1E4E8"> todos (</span></span>
<span class="line"><span style="color:#E1E4E8">  id </span><span style="color:#F97583">INTEGER</span><span style="color:#F97583"> PRIMARY KEY</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">  text</span><span style="color:#F97583"> VARCHAR</span><span style="color:#F97583"> NOT NULL</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  completed </span><span style="color:#F97583">BOOLEAN</span><span style="color:#F97583"> DEFAULT</span><span style="color:#E1E4E8"> FALSE,</span></span>
<span class="line"><span style="color:#E1E4E8">  created_at </span><span style="color:#F97583">TIMESTAMP</span><span style="color:#F97583"> DEFAULT</span><span style="color:#E1E4E8"> CURRENT_TIMESTAMP</span></span>
<span class="line"><span style="color:#E1E4E8">)</span></span></code></pre>
<p>I wrapped all the database stuff in functions:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> addTodo</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">db</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Database</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">text</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">void</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">exec</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`</span></span>
<span class="line"><span style="color:#9ECBFF">    INSERT INTO todos (text, completed, created_at) </span></span>
<span class="line"><span style="color:#9ECBFF">    VALUES (?, FALSE, CURRENT_TIMESTAMP)</span></span>
<span class="line"><span style="color:#9ECBFF">  `</span><span style="color:#E1E4E8">, [text]);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> toggleTodo</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">db</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Database</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">id</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#79B8FF">void</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">exec</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`</span></span>
<span class="line"><span style="color:#9ECBFF">    UPDATE todos </span></span>
<span class="line"><span style="color:#9ECBFF">    SET completed = NOT completed </span></span>
<span class="line"><span style="color:#9ECBFF">    WHERE id = ?</span></span>
<span class="line"><span style="color:#9ECBFF">  `</span><span style="color:#E1E4E8">, [id]);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>The OPFS part is where it gets interesting. When your browser supports it, DuckDB writes directly to the private file system:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">async</span><span style="color:#F97583"> function</span><span style="color:#B392F0"> initializeDatabase</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Promise</span><span style="color:#E1E4E8">&#x3C;</span><span style="color:#B392F0">Database</span><span style="color:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> bundle</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> DuckDBBundle</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (bundle.logger) {</span></span>
<span class="line"><span style="color:#E1E4E8">    bundle.logger.</span><span style="color:#B392F0">useConsole</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> worker</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> Worker</span><span style="color:#E1E4E8">(bundle.mainWorker</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> logger</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> ConsoleLogger</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> db</span><span style="color:#F97583"> =</span><span style="color:#F97583"> new</span><span style="color:#B392F0"> AsyncDuckDB</span><span style="color:#E1E4E8">(logger, worker);</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">instantiate</span><span style="color:#E1E4E8">(bundle.mainModule, bundle.pthreadWorker);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">  // OPFS connection when available</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> conn</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#E1E4E8"> db.</span><span style="color:#B392F0">connect</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> { db, conn };</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>I added a debug console that shows what’s actually happening:</p>
<ul>
<li>Whether you’re using OPFS or just memory</li>
<li>How big your database file is</li>
<li>Live SQL queries as they run</li>
<li>Performance timings</li>
</ul>
<p>It’s helpful to see what’s going on behind the scenes.</p>
<h2 id="what-it-does">What it does</h2>
<p>This isn’t your typical localStorage todo app. You get real database persistence with ACID transactions. Data survives everything - browser restarts, cache clearing, the lot.</p>
<p>The functional programming makes everything predictable. No mysterious state changes, no hidden mutations. Every function does one thing and returns new data.</p>
<p>The UI updates reactively without any framework:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">function</span><span style="color:#B392F0"> renderTodos</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">state</span><span style="color:#F97583">:</span><span style="color:#B392F0"> TodoState</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> void</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> container</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> document.</span><span style="color:#B392F0">getElementById</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'todo-list'</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">container) </span><span style="color:#F97583">return</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  </span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> filteredTodos</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> getFilteredTodos</span><span style="color:#E1E4E8">(state);</span></span>
<span class="line"><span style="color:#E1E4E8">  container.innerHTML </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> filteredTodos</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">map</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">todo</span><span style="color:#F97583"> =></span><span style="color:#B392F0"> renderTodoItem</span><span style="color:#E1E4E8">(todo))</span></span>
<span class="line"><span style="color:#E1E4E8">    .</span><span style="color:#B392F0">join</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="performance">Performance</h2>
<p>It falls back gracefully. If your browser supports OPFS, you get persistence. If not, it runs in memory and you lose data on refresh. No configuration needed.</p>
<p>The WebAssembly overhead is pretty minimal:</p>
<ul>
<li>About 2MB initial download</li>
<li>Queries run at near-native speed</li>
<li>Memory usage is efficient</li>
</ul>
<h2 id="browser-support">Browser support</h2>
<p>Chrome and Edge get the full experience with OPFS. Firefox and Safari fall back to memory-only for now. Mobile browsers are hit-and-miss depending on which one you’re using.</p>
<h2 id="what-i-learned">What I learned</h2>
<p>WebAssembly is ready for production. DuckDB performs really well for client-side database work.</p>
<p>OPFS is genuinely useful when it works, but browser support is still patchy. You need fallbacks.</p>
<p>Functional programming made the whole thing easier to build and debug. No surprises, no hidden state.</p>
<p>The main challenge is the bundle size. 2MB is a lot for some use cases, though it caches well after the first load.</p>
<h2 id="when-to-use-this">When to use this</h2>
<p>It’s great for:</p>
<ul>
<li>Offline-first apps</li>
<li>Data analysis tools</li>
<li>Privacy-focused apps where data never leaves the device</li>
<li>Prototypes that don’t need a backend</li>
</ul>
<p>Probably not ideal for:</p>
<ul>
<li>Apps where bundle size matters a lot</li>
<li>Anything that needs IE support</li>
<li>Real-time collaboration</li>
<li>Huge datasets that won’t fit in browser memory</li>
</ul>
<h2 id="whats-next">What’s next</h2>
<p>I think this is where web apps are heading. Local-first software that works offline by default. Your data stays on your device, but you still get the power of SQL and proper databases.</p>
<p>It’s pretty exciting stuff.</p>
<p>The <a href="https://markwylde.com/duckdb-opfs-todo-list/">live demo</a> is worth playing with. Add some todos, refresh the page, watch the debug console. You’ll see OPFS doing its thing.</p>
<p>All the source is on <a href="https://github.com/markwylde/duckdb-opfs-todo-list">GitHub</a> if you want to dig deeper.</p>
<h2 id="wrapping-up">Wrapping up</h2>
<p>Building this showed me how powerful browsers are becoming. You can run a real database client-side now, with proper persistence. That opens up a lot of possibilities.</p>
<p>The functional approach made everything cleaner and easier to debug. As these browser apps get more complex, having predictable code becomes really important.</p>
<p>We’re heading toward a world where web apps and desktop apps are basically the same thing. OPFS and WebAssembly are big steps in that direction.</p>
<h2 id="-explore-the-demo">🚀 Explore the Demo</h2>
<p>Ready to see DuckDB and OPFS in action?</p>
<div style="text-align: center; margin: 2rem 0; padding: 1.5rem; background: #f8f9fa; border-radius: 8px; border: 1px solid #dee2e6;">
  <a href="https://markwylde.com/duckdb-opfs-todo-list/" style="display: inline-flex; align-items: center; gap: 0.5rem; color: #0066cc; font-weight: 600; text-decoration: none; font-size: 1.1rem;">
    🦆 Try the Live Demo
  </a>
  <p style="margin-top: 1rem; color: #6c757d; font-size: 0.9rem;">
    Interactive todo list with DuckDB and OPFS persistence
  </p>
</div>
<div style="text-align: center; margin: 2rem 0;">
  <a href="https://github.com/markwylde/duckdb-opfs-todo-list" style="display: inline-flex; align-items: center; gap: 0.5rem; color: #24292f; font-weight: 600; text-decoration: none; font-size: 1.1rem;">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
    </svg>
    View Source Code
  </a>
  <p style="margin-top: 1rem; color: #6c757d; font-size: 0.9rem;">
    Complete implementation with TypeScript and documentation
  </p>
</div> </div> <footer class="blog-footer" data-astro-cid-7jjqptxk> <a href="/blog" class="back-link" data-astro-cid-7jjqptxk>← Back to Blog</a> </footer> </article> </div> </div> </section>  </main> <footer class="footer"> <div class="container"> <p>&copy; <span id="currentYear"></span> Mark Wylde. All Rights Reserved.</p> </div> </footer> <script type="module">const r=document.getElementById("currentYear");r&&(r.textContent=new Date().getFullYear().toString());const n=document.querySelector(".site-header"),e=document.querySelector(".header-avatar");if(n&&e){let i=function(){t&&e.removeEventListener("timeupdate",t),e.currentTime=0,e.play(),t=()=>{e.currentTime>=e.duration*.5&&(e.pause(),e.removeEventListener("timeupdate",t),t=null)},e.addEventListener("timeupdate",t)},a=function(){t&&(e.removeEventListener("timeupdate",t),t=null),e.currentTime=e.duration*.5,e.play()},t=null;n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",a)}</script> </body> </html>  